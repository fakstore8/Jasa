<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAIN.ID - Jasa Joki Moto Trackday Project Roblox</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>MAIN.ID</h1>
            <p>Jasa Joki Moto Trackday Project Roblox</p>
        </header>

        <div class="warning-box">
            ‚ö†Ô∏è PENTING: DILARANG LOGIN SELAMA PENGERJAAN AKUN!
        </div>

        <!-- Halaman Beranda / Pilih Paket -->
        <div id="homepage" class="page active">
            <div class="packages-grid">
                <div class="package-card" onclick="addToCart('PAKET 100JT', 2000)">
                    <h3>üí∞ PAKET 100JT</h3>
                    <p style="color: #666; margin-bottom: 10px;">100 Juta Cash</p>
                    <div class="price">Rp 2.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>

                <div class="package-card" onclick="addToCart('PAKET 500JT', 10000)">
                    <h3>üí∞ PAKET 500JT</h3>
                    <p style="color: #666; margin-bottom: 10px;">500 Juta Cash</p>
                    <div class="price">Rp 10.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>

                <div class="package-card" onclick="addToCart('PAKET 1M', 20000)">
                    <h3>üíé PAKET 1M</h3>
                    <p style="color: #666; margin-bottom: 10px;">1 Miliar Cash</p>
                    <div class="price">Rp 20.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>

                <div class="package-card" onclick="addToCart('PAKET 2,5M', 45000)">
                    <h3>üíé PAKET 2,5M</h3>
                    <p style="color: #666; margin-bottom: 10px;">2,5 Miliar Cash</p>
                    <div class="price">Rp 45.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>

                <div class="package-card" onclick="addToCart('PAKET 5M', 85000)">
                    <h3>üëë PAKET 5M</h3>
                    <p style="color: #666; margin-bottom: 10px;">5 Miliar Cash</p>
                    <div class="price">Rp 85.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>

                <div class="package-card" onclick="addToCart('PAKET MOTO GP', 50000)">
                    <h3>üèÅ PAKET MOTO GP</h3>
                    <p style="color: #666; margin-bottom: 10px;">Paket Spesial Moto GP</p>
                    <div class="price">Rp 50.000</div>
                    <button class="btn">Pilih Paket</button>
                </div>
            </div>

            <div class="cart" id="cartSection" style="display: none;">
                <h2>üõí Keranjang Anda</h2>
                <div id="cartItems"></div>
                <div class="cart-total">Total: Rp <span id="totalPrice">0</span></div>
                <button class="btn" onclick="goToCheckout()" style="margin-top: 20px; width: 100%;">Lanjut Pembayaran</button>
            </div>

            <div class="contact-section">
                <h2>üì± Hubungi Kami</h2>
                <div class="social-links">
                    <a href="https://www.tiktok.com/@_fuckhry" target="_blank" class="social-btn">üéµ TikTok: @_fuckhry</a>
                    <a href="https://www.instagram.com/_fuckhry" target="_blank" class="social-btn">üì∏ Instagram: @_fuckhry</a>
                    <a href="https://wa.me/6285737668457" target="_blank" class="social-btn">üí¨ WhatsApp Admin</a>
                </div>
            </div>
        </div>

        <!-- Halaman Checkout -->
        <div id="checkoutPage" class="page">
            <div class="checkout-container">
                <h2>üìù Form Checkout</h2>
                
                <div class="form-group">
                    <label>Username Roblox *</label>
                    <input type="text" id="username" placeholder="Masukkan username Roblox Anda" required>
                </div>

                <div class="form-group">
                    <label>Password *</label>
                    <input type="password" id="password" placeholder="Masukkan password Roblox Anda" required>
                </div>

                <div class="form-group">
                    <label>2-Step Verification</label>
                    <select id="twoStep">
                        <option value="OFF">OFF</option>
                        <option value="ON">ON</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Catatan Tambahan</label>
                    <textarea id="notes" rows="4" placeholder="Tambahkan catatan jika ada..."></textarea>
                </div>

                <div class="cart">
                    <h3>Paket yang dipilih:</h3>
                    <div id="checkoutCartItems"></div>
                    <div class="cart-total">Total: Rp <span id="checkoutTotal">0</span></div>
                </div>

                <button class="btn" onclick="goToPayment()" style="width: 100%; margin-top: 20px;">Bayar Sekarang</button>
                <button class="btn btn-secondary" onclick="goToPage('homepage')" style="width: 100%; margin-top: 10px;">Kembali</button>
            </div>
        </div>

        <!-- Halaman Pembayaran QRIS -->
        <div id="paymentPage" class="page">
            <div class="qris-container">
                <h2>üí≥ Pembayaran QRIS</h2>
                <p class="qris-desc">Scan QR Code di bawah ini untuk melakukan pembayaran</p>
                
                <div class="qr-canvas">
                    <img id="qrCodeImage" src="qris.png" alt="QRIS Payment">
                </div>

                <div class="qris-info">
                    <p><strong>Nama Penerima:</strong> Fakhri Maulana Januar</p>
                    <p><strong>Merchant:</strong> DANA - UMI</p>
                    <p><strong>Lokasi:</strong> Kab. Lumajang</p>
                </div>

                <div class="cart-total payment-total">Total Pembayaran: Rp <span id="paymentTotal">0</span></div>

                <p class="upload-note">Setelah pembayaran, upload bukti dan kirim via WhatsApp</p>

                <div class="form-group">
                    <label>Upload Bukti Pembayaran *</label>
                    <input type="file" id="proofFile" accept="image/*" onchange="previewFile()">
                    <div id="filePreview" class="file-preview"></div>
                </div>

                <button class="btn btn-success" onclick="sendToWhatsApp()">üì§ Kirim Pesanan & Bukti via WhatsApp</button>
                <button class="btn btn-secondary" onclick="goToPage('checkoutPage')" style="margin-top: 10px;">Kembali</button>
            </div>
        </div>

        <!-- Halaman Sukses -->
        <div id="successPage" class="page">
            <div class="success-message">
                <h2>‚úÖ Pesanan Berhasil Dikirim!</h2>
                <p class="success-text">Terima kasih! Pesanan dan bukti pembayaran Anda telah dikirim ke WhatsApp admin.</p>
                <p class="success-note">Admin akan segera memproses pesanan Anda.</p>
                <button class="btn btn-home" onclick="resetAndGoHome()">Kembali ke Beranda</button>
            </div>
        </div>

        <footer>
            <p>¬© 2025 MAIN.ID ‚Äì Jasa Joki Moto Trackday Project Roblox</p>
            <p>TikTok/IG: @_fuckhry | WhatsApp: 085737668457</p>
        </footer>
    </div>

    <script>
        let cart = [];
        let orderData = {};
        let uploadedFile = null;

        function addToCart(packageName, price) {
            cart.push({ name: packageName, price: price });
            updateCart();
            document.getElementById('cartSection').style.display = 'block';
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
            if (cart.length === 0) {
                document.getElementById('cartSection').style.display = 'none';
            }
        }

        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            
            cartItems.innerHTML = cart.map((item, index) => `
                <div class="cart-item">
                    <span>${item.name} - Rp ${item.price.toLocaleString('id-ID')}</span>
                    <button class="remove-btn" onclick="removeFromCart(${index})">Hapus</button>
                </div>
            `).join('');
            
            document.getElementById('totalPrice').textContent = total.toLocaleString('id-ID');
        }

        function goToCheckout() {
            if (cart.length === 0) {
                alert('Keranjang kosong! Pilih paket terlebih dahulu.');
                return;
            }

            const checkoutItems = document.getElementById('checkoutCartItems');
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            
            checkoutItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <span>${item.name}</span>
                    <span>Rp ${item.price.toLocaleString('id-ID')}</span>
                </div>
            `).join('');
            
            document.getElementById('checkoutTotal').textContent = total.toLocaleString('id-ID');
            goToPage('checkoutPage');
        }

        function goToPayment() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('Username dan Password Roblox wajib diisi!');
                return;
            }

            orderData = {
                username: username,
                password: password,
                twoStep: document.getElementById('twoStep').value,
                notes: document.getElementById('notes').value,
                packages: cart,
                total: cart.reduce((sum, item) => sum + item.price, 0)
            };

            document.getElementById('paymentTotal').textContent = orderData.total.toLocaleString('id-ID');
            goToPage('paymentPage');
        }

        function previewFile() {
            const fileInput = document.getElementById('proofFile');
            const preview = document.getElementById('filePreview');
            
            if (fileInput.files && fileInput.files[0]) {
                uploadedFile = fileInput.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.style.display = 'block';
                    preview.innerHTML = `
                        <div class="file-info">‚úÖ File terpilih: ${uploadedFile.name}</div>
                        <img src="${e.target.result}" alt="Preview Bukti Pembayaran">
                    `;
                };
                
                reader.readAsDataURL(uploadedFile);
            }
        }

        function sendToWhatsApp() {
            const fileInput = document.getElementById('proofFile');
            
            if (!fileInput.files || fileInput.files.length === 0) {
                alert('‚ö†Ô∏è Mohon upload bukti pembayaran terlebih dahulu!');
                return;
            }

            const packageList = orderData.packages.map(p => p.name).join(', ');
            const message = `üéÆ *PESANAN JOKI MOTO TRACKDAY*

üìã *DATA AKUN:*
Username: ${orderData.username}
Password: ${orderData.password}
2-Step Verification: ${orderData.twoStep}

üéÅ *PAKET:*
${packageList}

üí∞ *TOTAL PEMBAYARAN:*
Rp ${orderData.total.toLocaleString('id-ID')}

${orderData.notes ? 'üìù *CATATAN:*\n' + orderData.notes + '\n\n' : ''}
‚úÖ Bukti pembayaran sudah diupload
üì§ Mohon segera diproses

Terima kasih! üôè`;

            const waUrl = `https://wa.me/6285737668457?text=${encodeURIComponent(message)}`;
            
            window.open(waUrl, '_blank');
            
            setTimeout(() => {
                alert('üì± Setelah WhatsApp terbuka:\n\n1. Kirim pesan yang sudah disiapkan\n2. Kemudian kirim foto bukti pembayaran yang sudah Anda pilih\n\nFile yang dipilih: ' + uploadedFile.name);
            }, 500);
            
            goToPage('successPage');
        }

        function goToPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function resetAndGoHome() {
            cart = [];
            orderData = {};
            uploadedFile = null;
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            document.getElementById('twoStep').value = 'OFF';
            document.getElementById('notes').value = '';
            document.getElementById('proofFile').value = '';
            document.getElementById('filePreview').style.display = 'none';
            document.getElementById('cartSection').style.display = 'none';
            goToPage('homepage');
        }
    </script>
</body>
</html>